{"version":3,"sources":["components/Form.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","value","personFilter","onChange","handleFilterChange","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Person","person","name","number","onClick","Country","country","Persons","personsToShow","map","key","Countries","filter","countriesToShow","length","languages","l","src","flag","alt","height","width","baseUrl","axios","get","newObject","post","id","put","delete","Notification","message","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","className","style","text","App","useState","persons","setPersons","setNewName","setNewNumber","setPersonFilter","countries","setCountries","filteredCountries","setFilteredCountries","setCountry","errorMessage","setErrorMessage","useEffect","personService","then","response","data","p","includes","event","target","preventDefault","nameObject","find","console","log","setTimeout","concat","window","confirm","catch","error","c","toLowerCase","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.872cf9a9.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n       <>\r\n       filter shown with <input\r\n          value={props.personFilter}\r\n          onChange={props.handleFilterChange} />\r\n       </>\r\n       )\r\n }\r\n\r\n const PersonForm = (props) => {\r\n   return (\r\n      <>\r\n         <form onSubmit={props.addPerson}>\r\n            <div>\r\n            name: <input\r\n            value={props.newName}\r\n            onChange={props.handleNameChange} />\r\n            </div>\r\n            <div>\r\n            number: <input\r\n            value={props.newNumber}\r\n            onChange={props.handleNumberChange} />\r\n            </div>\r\n            <div>\r\n            <button type=\"submit\">add</button>\r\n            </div>\r\n         </form>\r\n      </>\r\n   )\r\n}\r\n\r\nexport { Filter,\r\n      PersonForm\r\n }","import React from 'react'\r\n\r\nconst Person = (props) => {\r\n    return (\r\n      <li>\r\n        {props.person.name} {props.person.number}\r\n        <button onClick={() => props.onClick(props.person)}>delete</button>\r\n      </li>\r\n      )\r\n }\r\n\r\n const Country = (props) => {\r\n  return (\r\n    <li>\r\n      {props.country.name}\r\n      <button onClick={() => props.onClick(props.country.name)}>show</button>\r\n    </li>\r\n    )\r\n}\r\n\r\n export {Person, Country}","import React from 'react'\r\nimport { Person, Country } from './Person'\r\n\r\nconst Persons = (props) => {\r\n    return (\r\n       <>\r\n          {props.personsToShow.map(person => \r\n             <Person key={person.name} person={person} onClick={props.onClick}/>\r\n          )}\r\n       </>\r\n    )\r\n }\r\n\r\n const Countries = (props) => {\r\n     if (!props.filter) {\r\n         return (\r\n             <></>\r\n         )\r\n     }\r\n\r\n     if (props.countriesToShow.length === 1) {\r\n        const country = props.countriesToShow[0]\r\n        return (\r\n            <>\r\n            <h2>{country.name}</h2>\r\n            <h3>languages</h3>\r\n                {country.languages.map(l => \r\n                    <li key={l.name}>{l.name}</li>\r\n                )}\r\n            <br></br>\r\n            <img src={country.flag} alt='flag' height='100' width='100'></img>\r\n            </>\r\n        )\r\n    }     \r\n\r\n     if (props.countriesToShow.length > 10) {\r\n         return (\r\n             <p>Too many countries, specify another filter</p>\r\n         )\r\n     }\r\n    \r\n    return (\r\n       <>\r\n          {props.countriesToShow.map(country => \r\n             <Country key={country.name} country={country} onClick={props.onClick}/>\r\n          )}\r\n       </>\r\n    )\r\n }\r\n\r\n export { Persons, Countries }","import axios from 'axios'\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`, id)\r\n}\r\n\r\nexport default { \r\n  getAll, \r\n  create,\r\n  update,\r\n  remove\r\n}","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n\r\n    const notificationStyle = {\r\n        color: message.color,\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n      }\r\n  \r\n    return (\r\n      <div className=\"error\" style={notificationStyle}>\r\n        {message.text}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport { Filter, PersonForm } from './components/Form'\r\nimport { Persons, Countries } from './components/Persons'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ personFilter, setPersonFilter ] = useState('')\r\n  const [ countries, setCountries ] = useState([])\r\n  const [ filteredCountries, setFilteredCountries ] = useState([])\r\n  const [ country, setCountry ] = useState('')\r\n  const [ errorMessage, setErrorMessage ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(response => {\r\n        setPersons(response.data)\r\n      })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n   axios\r\n     .get('https://restcountries.eu/rest/v2/all')\r\n     .then(response => {\r\n       setCountries(response.data)\r\n     })\r\n  }, [])\r\n\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleCountryChange = (event) => {\r\n   setFilteredCountries(countries.filter(c => c.name.toLowerCase().includes(country.toLowerCase())))\r\n   setCountry(event.target.value)\r\n }\r\n\r\n  const handleNumberChange = (event) => {\r\n   setNewNumber(event.target.value)\r\n }\r\n\r\n const handleFilterChange = (event) => {\r\n   setPersonFilter(event.target.value)\r\n }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const nameObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    if (persons.map(p => p.name).includes(newName)) {\r\n      const id = persons.find(p => p.name === newName).id\r\n      console.log(id)\r\n      personService\r\n      .update(id, nameObject)\r\n      .then(response => {\r\n        setPersons(persons.map(p => p.name !== newName ? p : response.data))\r\n        setErrorMessage(\r\n          {text: `Changed '${newName}' number`, color: 'green'}\r\n        )\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 5000)\r\n      })\r\n    }\r\n    else {\r\n      personService\r\n      .create(nameObject)\r\n      .then(response => {\r\n        setPersons(persons.concat(response.data))\r\n        setErrorMessage(\r\n          {text: `Added '${newName}'`, color: 'green'}\r\n        )\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 5000)\r\n      })\r\n    }\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  const deletePerson = (person) => {\r\n    if (window.confirm(`Delete ${person.name}?`)) {\r\n      personService\r\n        .remove(person.id)\r\n        .then(response => {\r\n          setPersons(persons.filter(p => p !== person))\r\n          setErrorMessage(\r\n            {text: `${person.name} removed successfully`, color: 'green'}\r\n          )\r\n        })\r\n        .catch(error => {\r\n          setErrorMessage(\r\n            {text: `${person.name} was already removed from server`, color: 'red'}\r\n          )\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n          setPersons(persons.filter(p => p !== person))\r\n        })\r\n    }\r\n  }\r\n\r\n  \r\n  const showCountry = (country) => {\r\n    setFilteredCountries(countries.filter(c => c.name.toLowerCase() === country.toLowerCase()))\r\n } \r\n\r\n  const personsToShow = persons.filter(p => p.name.includes(personFilter))\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      \r\n      <Notification message={errorMessage} />\r\n\r\n      <Filter personFilter={personFilter} handleFilterChange={handleFilterChange} />\r\n      \r\n      <h2>Add a new</h2>\r\n\r\n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\r\n\r\n      <h2>Numbers</h2>\r\n\r\n      <Persons personsToShow={personsToShow} onClick={deletePerson}/>\r\n\r\n      <h2>Countries</h2>\r\n\r\n      <div>\r\n         find countries: <input\r\n         value={country}\r\n         onChange={handleCountryChange} />\r\n      </div>\r\n\r\n      <Countries countriesToShow={filteredCountries} filter={country} onClick={showCountry}/>\r\n\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}