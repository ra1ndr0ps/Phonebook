{"version":3,"sources":["components/Form.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","value","personFilter","onChange","handleFilterChange","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Person","person","name","number","onClick","Country","country","Persons","personsToShow","map","key","Countries","filter","countriesToShow","length","languages","l","src","flag","alt","height","width","baseUrl","getAll","axios","get","create","newObject","post","update","id","put","remove","delete","Notification","message","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","className","style","text","App","useState","persons","setPersons","setNewName","setNewNumber","setPersonFilter","countries","setCountries","setCountry","errorMessage","setErrorMessage","useEffect","personService","then","response","data","filteredCountries","c","toLowerCase","includes","p","event","target","preventDefault","nameObject","edit","concat","setTimeout","window","confirm","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.70126bca.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n       <>\r\n       filter shown with <input\r\n          value={props.personFilter}\r\n          onChange={props.handleFilterChange} />\r\n       </>\r\n       )\r\n }\r\n\r\n const PersonForm = (props) => {\r\n   return (\r\n      <>\r\n         <form onSubmit={props.addPerson}>\r\n            <div>\r\n            name: <input\r\n            value={props.newName}\r\n            onChange={props.handleNameChange} />\r\n            </div>\r\n            <div>\r\n            number: <input\r\n            value={props.newNumber}\r\n            onChange={props.handleNumberChange} />\r\n            </div>\r\n            <div>\r\n            <button type=\"submit\">add</button>\r\n            </div>\r\n         </form>\r\n      </>\r\n   )\r\n}\r\n\r\nexport { Filter,\r\n      PersonForm\r\n }","import React from 'react'\r\n\r\nconst Person = (props) => {\r\n    return (\r\n      <li>\r\n        {props.person.name} {props.person.number}\r\n        <button onClick={() => props.onClick(props.person)}>delete</button>\r\n      </li>\r\n      )\r\n }\r\n\r\n const Country = (props) => {\r\n  return (\r\n    <li>\r\n      {props.country.name}\r\n      <button onClick={() => props.onClick(props.country.name)}>show</button>\r\n    </li>\r\n    )\r\n}\r\n\r\n export {Person, Country}","import React from 'react'\r\nimport { Person, Country } from './Person'\r\n\r\nconst Persons = (props) => {\r\n    return (\r\n       <>\r\n          {props.personsToShow.map(person => \r\n             <Person key={person.name} person={person} onClick={props.onClick}/>\r\n          )}\r\n       </>\r\n    )\r\n }\r\n\r\n const Countries = (props) => {\r\n     if (!props.filter) {\r\n         return (\r\n             <></>\r\n         )\r\n     }\r\n\r\n     if (props.countriesToShow.length === 1) {\r\n        const country = props.countriesToShow[0]\r\n        return (\r\n            <>\r\n            <h2>{country.name}</h2>\r\n            <h3>languages</h3>\r\n                {country.languages.map(l => \r\n                    <li key={l.name}>{l.name}</li>\r\n                )}\r\n            <br></br>\r\n            <img src={country.flag} alt='flag' height='100' width='100'></img>\r\n            </>\r\n        )\r\n    }     \r\n\r\n     if (props.countriesToShow.length > 10) {\r\n         return (\r\n             <p>Too many countries, specify another filter</p>\r\n         )\r\n     }\r\n    \r\n    return (\r\n       <>\r\n          {props.countriesToShow.map(country => \r\n             <Country key={country.name} country={country} onClick={props.onClick}/>\r\n          )}\r\n       </>\r\n    )\r\n }\r\n\r\n export { Persons, Countries }","import axios from 'axios'\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst edit = newObject => {\r\n  return axios.put(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`, id)\r\n}\r\n\r\nexport default { \r\n  getAll, \r\n  create,\r\n  update,\r\n  remove\r\n}","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n\r\n    const notificationStyle = {\r\n        color: message.color,\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n      }\r\n  \r\n    return (\r\n      <div className=\"error\" style={notificationStyle}>\r\n        {message.text}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport { Filter, PersonForm } from './components/Form'\r\nimport { Persons, Countries } from './components/Persons'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ personFilter, setPersonFilter ] = useState('')\r\n  const [ countries, setCountries ] = useState([])\r\n  const [ country, setCountry ] = useState('')\r\n  const [ errorMessage, setErrorMessage ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(response => {\r\n        setPersons(response.data)\r\n      })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n   axios\r\n     .get('https://restcountries.eu/rest/v2/all')\r\n     .then(response => {\r\n       setCountries(response.data)\r\n     })\r\n  }, [])\r\n\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleCountryChange = (event) => {\r\n   setCountry(event.target.value)\r\n }\r\n\r\n  const handleNumberChange = (event) => {\r\n   setNewNumber(event.target.value)\r\n }\r\n\r\n const handleFilterChange = (event) => {\r\n   setPersonFilter(event.target.value)\r\n }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const nameObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    if (persons.map(p => p.name).includes(newName)) {\r\n      personService\r\n      .edit(nameObject)\r\n      .then(response => {\r\n        setPersons(persons.concat(response.data))\r\n        setErrorMessage(\r\n          {text: `Changed '${newName}' number`, color: 'green'}\r\n        )\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 5000)\r\n      })\r\n    }\r\n    else {\r\n      personService\r\n      .create(nameObject)\r\n      .then(response => {\r\n        setPersons(persons.concat(response.data))\r\n        setErrorMessage(\r\n          {text: `Added '${newName}'`, color: 'green'}\r\n        )\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 5000)\r\n      })\r\n    }\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  const deletePerson = (person) => {\r\n    if (window.confirm(`Delete ${person.name}?`)) {\r\n      personService\r\n        .remove(person.id)\r\n        .then(response => {\r\n          setPersons(persons.filter(p => p !== person))\r\n          setErrorMessage(\r\n            {text: `${person.name} removed successfully`, color: 'green'}\r\n          )\r\n        })\r\n        .catch(error => {\r\n          setErrorMessage(\r\n            {text: `${person.name} was already removed from server`, color: 'red'}\r\n          )\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n          setPersons(persons.filter(p => p !== person))\r\n        })\r\n    }\r\n  }\r\n\r\n  \r\n  const showCountry = (country) => {\r\n   setCountry(country)\r\n } \r\n\r\n  const filteredCountries = countries.filter(c => c.name.toLowerCase().includes(country.toLowerCase()))\r\n  const personsToShow = persons.filter(p => p.name.includes(personFilter))\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      \r\n      <Notification message={errorMessage} />\r\n\r\n      <Filter personFilter={personFilter} handleFilterChange={handleFilterChange} />\r\n      \r\n      <h2>Add a new</h2>\r\n\r\n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\r\n\r\n      <h2>Numbers</h2>\r\n\r\n      <Persons personsToShow={personsToShow} onClick={deletePerson}/>\r\n\r\n      <h2>Countries</h2>\r\n\r\n      <div>\r\n         find countries: <input\r\n         value={country}\r\n         onChange={handleCountryChange} />\r\n      </div>\r\n\r\n      <Countries countriesToShow={filteredCountries} filter={country} onClick={showCountry}/>\r\n\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}